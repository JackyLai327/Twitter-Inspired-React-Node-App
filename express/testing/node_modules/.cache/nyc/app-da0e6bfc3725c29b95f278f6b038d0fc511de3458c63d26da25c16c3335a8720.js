'use strict'

const fastify = require('fastify');
const user = require('../testing/test.controllers/user.controller');
const post = require('../testing/test.controllers/post.controller');

function build(opts={}) {
    const app = fastify(opts);

    app.get('/', async function (req, res) {

        const oneUser = await user.getUser(req, res, "a@a.a");
        const postsByUser = await post.allPostByUser(req, res, "a@a.a");
        const 

        return { oneUser, postsByUser };
    });

    return app;
}

module.exports = build;