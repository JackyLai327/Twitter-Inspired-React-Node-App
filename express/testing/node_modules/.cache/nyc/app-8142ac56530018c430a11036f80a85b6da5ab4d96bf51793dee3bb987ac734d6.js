'use strict'

const fastify = require('fastify');
const user = require('../src/controllers/user.controller');

function build(opts={}) {
    const app = fastify(opts);

    app.get('/', async function (req, res) {

        const result = await user.allUsers().then(data => {
            return res.json(data);
        })

        return {res.json(result)};
    });

    return app;
}

module.exports = build;